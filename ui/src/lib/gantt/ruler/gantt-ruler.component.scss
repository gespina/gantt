@import '../grid';
@import '../colors';

:host {
  --ruler-unit: 1px;
  --ruler-x: 1;
  --ruler-y: 1;
  // --ruler-space: 60;

  /* Low ticks */
  --ruler1-bdw: 1px;
  --ruler1-c: $font-color;
  --ruler1-h: 5px;
  // --ruler1-space: 50;

  /* Tall ticks */
  --ruler2-bdw: 1px;
  --ruler2-c: $font-color;
  --ruler2-h: 10px;
  // --ruler2-space: 100;

  --zoom-level: 1;
  --num-ticks: 24;
  --row-height: 48px;

  font-family: Roboto, 'Helvetica Neue', sans-serif;
  background-color: $ruler-bg;
}

.ruler-container {
  grid-column: track;
  min-width: calc(var(--num-ticks) * var(--ruler-space));
  background-attachment: fixed;
  background-position: bottom left;
  background-repeat: repeat-x, repeat-x;
  transform: rotate(0deg);
  color: $font-color; 

  &.high-ticks {
    background-image: 
      linear-gradient(to right, $font-color 0 var(--ruler2-bdw), transparent 0);
    background-size: 
      calc(var(--ruler-unit) * var(--ruler-space) * 2 * var(--ruler-x)) var(--ruler2-h);
  }

  &.high-low-ticks {
    background-image: 
      linear-gradient(to right, $font-color 0 var(--ruler2-bdw), transparent 0),
      linear-gradient(to right, $font-color 0 var(--ruler1-bdw), transparent 0);
    background-size: 
      calc(var(--ruler-unit) * var(--ruler-space) * 2 * var(--ruler-x)) var(--ruler2-h),
      calc(var(--ruler-unit) * var(--ruler-space) * var(--ruler-x)) var(--ruler1-h);
  }

  .ruler {
    margin: 0;
    padding: 0;
    width: 100%;
    list-style: none;
    height: 48px;
    white-space: nowrap;
    inset-inline-start: calc(var(--ruler-unit) * var(--ruler-space));
    inset-block-start: 0;
    transform: rotate(0deg);
    display: flex;
    border-bottom: 1px solid $font-color;

    li {
      align-self: flex-end;
      flex: 0 0 calc((var(--ruler-unit) * var(--ruler-space) * 2));
      margin-bottom: 12px;

      .date-container {
        display: flex;
        flex-direction: column-reverse;
      }
    }
  }
}

// }
